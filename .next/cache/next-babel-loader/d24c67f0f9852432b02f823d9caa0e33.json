{"ast":null,"code":"var _jsxFileName = \"C:\\\\Code\\\\Projects\\\\projectU\\\\projectu\\\\components\\\\post\\\\Post.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/react-hooks';\nimport { SAVE_POST } from '../../schemas/mutations';\nimport { setCurrentUserSP } from '../../reducers/currentUser';\nimport PS from '../../styles/post.module.css';\nimport userIcon from '../../static/svg/userB.svg';\nimport { palletteGenerator, triggerAlert } from '../../functions/functions';\nimport { setAlert, resetAlert } from '../../reducers/alertNotif';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\n\nconst Post = props => {\n  _s();\n\n  const post = props.post;\n  const color = post.color;\n  const colorPalette = palletteGenerator(color).colorPallette;\n\n  const handleError = e => {// console.log(e)\n  };\n\n  const [savePostMutation] = useMutation(SAVE_POST, {\n    onError: handleError\n  });\n\n  const handleSavePost = async () => {\n    if (!props.token) {\n      triggerAlert('warning', 'sign in$: must be signed in to perform this action', props.setAlert, props.resetAlert);\n      return null;\n    }\n\n    const result = await savePostMutation({\n      variables: {\n        user: props.currentUser._id,\n        postId: post._id\n      }\n    });\n\n    if (result) {\n      props.setCurrentUserSP(props.currentUser.savedPosts.concat(post));\n      triggerAlert('success', 'followed$: you are now following this post', props.setAlert, props.resetAlert);\n    }\n  };\n\n  const handleShare = () => {\n    triggerAlert('success', 'copied url$: copied url to dashboard', props.setAlert, props.resetAlert);\n  };\n\n  const mappedSkills = () => {\n    let allSkills = [];\n\n    for (const ind in post.skillNames) {\n      allSkills.push(__jsx(Link, {\n        to: `/browse/${encodeURIComponent(post.skillNames[ind])}`,\n        className: \"post-skill-ins-container neutralize-link\",\n        key: `SI${post.skillNames[ind]}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }\n      }, __jsx(\"h4\", {\n        className: \"PSI-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }\n      }, post.skillNames[ind]), __jsx(\"div\", {\n        className: \"PSI-stats\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }\n      }, `${post.skillFills[ind]} / ${post.skillCapacities[ind]}`)));\n    }\n\n    return allSkills;\n  };\n\n  let cleanedTime = new Date(Number(post.time));\n  cleanedTime = cleanedTime.toString().split(' '); // cleanedTime = cleanedTime.slice(1,4).join(' ') + ' ' + cleanedTime[4].split(':').slice(0,2).join(':')\n\n  cleanedTime = cleanedTime.slice(1, 3).join(' ') + ', ' + cleanedTime[3];\n\n  if (props.stretch) {\n    return __jsx(\"div\", {\n      className: PS.postWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: PS.post - color - indicator,\n      style: {\n        backgroundColor: colorPalette.color\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }), __jsx(\"div\", {\n      className: PS.post - container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: PS.post - header - wrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, __jsx(\"div\", {\n      className: \"post-utilities-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }, __jsx(\"div\", {\n      onClick: () => handleSavePost(),\n      className: \"PU-icon-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }\n    }, __jsx(\"svg\", {\n      className: \"PU-icon\",\n      fill: colorPalette.color,\n      viewBox: \"0 -28 512.00002 512\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 33\n      }\n    }, __jsx(\"path\", {\n      d: \"m471.382812 44.578125c-26.503906-28.746094-62.871093-44.578125-102.410156-44.578125-29.554687 0-56.621094 9.34375-80.449218 27.769531-12.023438 9.300781-22.917969 20.679688-32.523438 33.960938-9.601562-13.277344-20.5-24.660157-32.527344-33.960938-23.824218-18.425781-50.890625-27.769531-80.445312-27.769531-39.539063 0-75.910156 15.832031-102.414063 44.578125-26.1875 28.410156-40.613281 67.222656-40.613281 109.292969 0 43.300781 16.136719 82.9375 50.78125 124.742187 30.992188 37.394531 75.535156 75.355469 127.117188 119.3125 17.613281 15.011719 37.578124 32.027344 58.308593 50.152344 5.476563 4.796875 12.503907 7.4375 19.792969 7.4375 7.285156 0 14.316406-2.640625 19.785156-7.429687 20.730469-18.128907 40.707032-35.152344 58.328125-50.171876 51.574219-43.949218 96.117188-81.90625 127.109375-119.304687 34.644532-41.800781 50.777344-81.4375 50.777344-124.742187 0-42.066407-14.425781-80.878907-40.617188-109.289063zm0 0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 150\n      }\n    }))), __jsx(CopyToClipboard, {\n      onCopy: () => handleShare(),\n      text: `http://localhost:3000/post/${encodeURIComponent(post.title)}`,\n      className: \"PU-icon-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }, __jsx(\"svg\", {\n      className: \"PU-icon\",\n      style: {\n        width: '20px',\n        paddingRight: '5px',\n        paddingLeft: '5px'\n      },\n      fill: colorPalette.color,\n      viewBox: \"0 -22 512 511\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 33\n      }\n    }, __jsx(\"path\", {\n      d: \"m512 233.820312-212.777344-233.320312v139.203125h-45.238281c-140.273437 0-253.984375 113.710937-253.984375 253.984375v73.769531l20.09375-22.019531c68.316406-74.851562 164.980469-117.5 266.324219-117.5h12.804687v139.203125zm0 0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 208\n      }\n    })))), __jsx(\"div\", {\n      className: \"post-header-stretch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, __jsx(Link, {\n      to: `/user/${encodeURIComponent(post.user.username)}`,\n      className: \"PH-user-stretch neutralize-link post-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 29\n      }\n    }, __jsx(\"img\", {\n      className: \"PHU-icon\",\n      src: userIcon,\n      alt: \"user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 33\n      }\n    }), __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 33\n      }\n    }, post.user.username)), __jsx(\"div\", {\n      className: \"PH-date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }\n    }, cleanedTime))), __jsx(Link, {\n      to: `/post/${encodeURIComponent(post.title)}`,\n      className: \"neutralize-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, __jsx(\"h3\", {\n      className: \"post-title post-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 102\n      }\n    }, post.title)), __jsx(Link, {\n      to: `/post/${encodeURIComponent(post.title)}`,\n      className: \"post-description neutralize-link post-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, post.description), __jsx(\"div\", {\n      className: \"post-skills-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, mappedSkills())));\n  }\n\n  return __jsx(\"div\", {\n    className: \"post-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"post-color-indicator\",\n    style: {\n      backgroundColor: colorPalette.color\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: \"post-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"post-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    to: `/user/${encodeURIComponent(post.user.username)}`,\n    className: \"PH-user neutralize-link post-hover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, __jsx(\"img\", {\n    className: \"PHU-icon\",\n    src: userIcon,\n    alt: \"user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, post.user.username)), __jsx(\"div\", {\n    className: \"PH-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, cleanedTime)), __jsx(Link, {\n    to: `/post/${encodeURIComponent(post.title)}`,\n    className: \"neutralize-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, __jsx(\"h3\", {\n    className: \"post-title post-hover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 98\n    }\n  }, post.title)), __jsx(Link, {\n    to: `/post/${encodeURIComponent(post.title)}`,\n    className: \"post-description neutralize-link post-hover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, post.description), __jsx(\"div\", {\n    className: \"post-skills-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, mappedSkills()), __jsx(\"div\", {\n    className: \"post-utilities-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    onClick: () => handleSavePost(),\n    className: \"PU-icon-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, __jsx(\"svg\", {\n    className: \"PU-icon\",\n    fill: colorPalette.color,\n    viewBox: \"0 -28 512.00002 512\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, __jsx(\"path\", {\n    d: \"m471.382812 44.578125c-26.503906-28.746094-62.871093-44.578125-102.410156-44.578125-29.554687 0-56.621094 9.34375-80.449218 27.769531-12.023438 9.300781-22.917969 20.679688-32.523438 33.960938-9.601562-13.277344-20.5-24.660157-32.527344-33.960938-23.824218-18.425781-50.890625-27.769531-80.445312-27.769531-39.539063 0-75.910156 15.832031-102.414063 44.578125-26.1875 28.410156-40.613281 67.222656-40.613281 109.292969 0 43.300781 16.136719 82.9375 50.78125 124.742187 30.992188 37.394531 75.535156 75.355469 127.117188 119.3125 17.613281 15.011719 37.578124 32.027344 58.308593 50.152344 5.476563 4.796875 12.503907 7.4375 19.792969 7.4375 7.285156 0 14.316406-2.640625 19.785156-7.429687 20.730469-18.128907 40.707032-35.152344 58.328125-50.171876 51.574219-43.949218 96.117188-81.90625 127.109375-119.304687 34.644532-41.800781 50.777344-81.4375 50.777344-124.742187 0-42.066407-14.425781-80.878907-40.617188-109.289063zm0 0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 142\n    }\n  }))), __jsx(CopyToClipboard, {\n    onCopy: () => handleShare(),\n    text: `http://localhost:3000/post/${encodeURIComponent(post.title)}`,\n    className: \"PU-icon-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, __jsx(\"svg\", {\n    className: \"PU-icon\",\n    style: {\n      width: '20px',\n      paddingRight: '5px',\n      paddingLeft: '5px'\n    },\n    fill: colorPalette.color,\n    viewBox: \"0 -22 512 511\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, __jsx(\"path\", {\n    d: \"m512 233.820312-212.777344-233.320312v139.203125h-45.238281c-140.273437 0-253.984375 113.710937-253.984375 253.984375v73.769531l20.09375-22.019531c68.316406-74.851562 164.980469-117.5 266.324219-117.5h12.804687v139.203125zm0 0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 200\n    }\n  }))))));\n};\n\n_s(Post, \"CUCySwIk3IdpcuFMaHx3rshdFzE=\", false, function () {\n  return [useMutation];\n});\n\n_c = Post;\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.currentUser,\n    token: state.token\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setCurrentUserSP,\n  setAlert,\n  resetAlert\n})(Post);\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["C:/Code/Projects/projectU/projectu/components/post/Post.js"],"names":["React","connect","Link","useMutation","SAVE_POST","setCurrentUserSP","PS","userIcon","palletteGenerator","triggerAlert","setAlert","resetAlert","CopyToClipboard","Post","props","post","color","colorPalette","colorPallette","handleError","e","savePostMutation","onError","handleSavePost","token","result","variables","user","currentUser","_id","postId","savedPosts","concat","handleShare","mappedSkills","allSkills","ind","skillNames","push","encodeURIComponent","skillFills","skillCapacities","cleanedTime","Date","Number","time","toString","split","slice","join","stretch","postWrapper","indicator","backgroundColor","container","header","wrapper","title","width","paddingRight","paddingLeft","username","description","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { useMutation } from '@apollo/react-hooks'\r\nimport { SAVE_POST } from '../../schemas/mutations'\r\nimport { setCurrentUserSP } from '../../reducers/currentUser'\r\nimport PS from '../../styles/post.module.css'\r\nimport userIcon from '../../static/svg/userB.svg'\r\nimport { palletteGenerator, triggerAlert } from '../../functions/functions'\r\nimport { setAlert, resetAlert } from '../../reducers/alertNotif'\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\r\n\r\nconst Post = (props) => {\r\n    const post = props.post\r\n    const color = post.color\r\n    const colorPalette = palletteGenerator(color).colorPallette\r\n\r\n    const handleError = (e) => {\r\n        // console.log(e)\r\n    }\r\n    const [savePostMutation] = useMutation(SAVE_POST, {\r\n        onError: handleError\r\n    })\r\n    const handleSavePost = async () => {\r\n        if (!props.token) {\r\n            triggerAlert('warning', 'sign in$: must be signed in to perform this action', props.setAlert, props.resetAlert)\r\n            return null\r\n        }\r\n        const result = await savePostMutation({\r\n            variables: {\r\n                user: props.currentUser._id,\r\n                postId: post._id\r\n            }\r\n        })\r\n        if (result) {\r\n            props.setCurrentUserSP(props.currentUser.savedPosts.concat(post))\r\n            triggerAlert('success', 'followed$: you are now following this post', props.setAlert, props.resetAlert)\r\n        }\r\n    }\r\n\r\n    const handleShare = () => {\r\n        triggerAlert('success', 'copied url$: copied url to dashboard', props.setAlert, props.resetAlert)\r\n    }\r\n\r\n    const mappedSkills = () => {\r\n        let allSkills = []\r\n        for (const ind in post.skillNames) {\r\n            allSkills.push(\r\n                <Link to={`/browse/${encodeURIComponent(post.skillNames[ind])}`} className=\"post-skill-ins-container neutralize-link\" key={`SI${post.skillNames[ind]}`}>\r\n                    <h4 className=\"PSI-name\">{post.skillNames[ind]}</h4>\r\n                    <div className=\"PSI-stats\">\r\n                        {`${post.skillFills[ind]} / ${post.skillCapacities[ind]}`}\r\n                    </div>\r\n                </Link>\r\n            )\r\n        }\r\n        return allSkills\r\n    }\r\n    let cleanedTime = new Date(Number(post.time))\r\n    cleanedTime = cleanedTime.toString().split(' ')\r\n    // cleanedTime = cleanedTime.slice(1,4).join(' ') + ' ' + cleanedTime[4].split(':').slice(0,2).join(':')\r\n    cleanedTime = cleanedTime.slice(1,3).join(' ') + ', ' + cleanedTime[3]\r\n    if (props.stretch) {\r\n        return (\r\n            <div className={PS.postWrapper}>\r\n                <div className={PS.post-color-indicator} style={{backgroundColor: colorPalette.color}} />\r\n                <div className={PS.post-container}>\r\n                    <div className={PS.post-header-wrapper}>\r\n                        <div className=\"post-utilities-container\">\r\n                            <div onClick={() => handleSavePost()} className=\"PU-icon-container\">\r\n                                <svg className=\"PU-icon\" fill={colorPalette.color}  viewBox=\"0 -28 512.00002 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m471.382812 44.578125c-26.503906-28.746094-62.871093-44.578125-102.410156-44.578125-29.554687 0-56.621094 9.34375-80.449218 27.769531-12.023438 9.300781-22.917969 20.679688-32.523438 33.960938-9.601562-13.277344-20.5-24.660157-32.527344-33.960938-23.824218-18.425781-50.890625-27.769531-80.445312-27.769531-39.539063 0-75.910156 15.832031-102.414063 44.578125-26.1875 28.410156-40.613281 67.222656-40.613281 109.292969 0 43.300781 16.136719 82.9375 50.78125 124.742187 30.992188 37.394531 75.535156 75.355469 127.117188 119.3125 17.613281 15.011719 37.578124 32.027344 58.308593 50.152344 5.476563 4.796875 12.503907 7.4375 19.792969 7.4375 7.285156 0 14.316406-2.640625 19.785156-7.429687 20.730469-18.128907 40.707032-35.152344 58.328125-50.171876 51.574219-43.949218 96.117188-81.90625 127.109375-119.304687 34.644532-41.800781 50.777344-81.4375 50.777344-124.742187 0-42.066407-14.425781-80.878907-40.617188-109.289063zm0 0\"/></svg>\r\n                            </div>\r\n                            <CopyToClipboard onCopy={() => handleShare()} text={`http://localhost:3000/post/${encodeURIComponent(post.title)}`} className=\"PU-icon-container\">\r\n                                <svg className=\"PU-icon\" style={{width: '20px', paddingRight: '5px', paddingLeft: '5px'}} fill={colorPalette.color} viewBox=\"0 -22 512 511\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m512 233.820312-212.777344-233.320312v139.203125h-45.238281c-140.273437 0-253.984375 113.710937-253.984375 253.984375v73.769531l20.09375-22.019531c68.316406-74.851562 164.980469-117.5 266.324219-117.5h12.804687v139.203125zm0 0\"/></svg>\r\n                            </CopyToClipboard>\r\n                        </div>\r\n                        <div className=\"post-header-stretch\">\r\n                            <Link to={`/user/${encodeURIComponent(post.user.username)}`} className=\"PH-user-stretch neutralize-link post-hover\">\r\n                                <img className=\"PHU-icon\" src={userIcon} alt=\"user\" />\r\n                                <div>{post.user.username}</div>\r\n                            </Link>\r\n                            <div className=\"PH-date\">{cleanedTime}</div>               \r\n                        </div>\r\n\r\n                    </div>\r\n\r\n\r\n                    <Link to={`/post/${encodeURIComponent(post.title)}`} className=\"neutralize-link\"><h3 className=\"post-title post-hover\">{post.title}</h3></Link>\r\n                    <Link to={`/post/${encodeURIComponent(post.title)}`} className=\"post-description neutralize-link post-hover\">\r\n                        {post.description}\r\n                    </Link>\r\n                    <div className=\"post-skills-container\">\r\n                        {mappedSkills()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div className=\"post-wrapper\">\r\n            <div className=\"post-color-indicator\" style={{backgroundColor: colorPalette.color}} />\r\n            <div className=\"post-container\">\r\n                <div className=\"post-header\">\r\n                    <Link to={`/user/${encodeURIComponent(post.user.username)}`} className=\"PH-user neutralize-link post-hover\">\r\n                        <img className=\"PHU-icon\" src={userIcon} alt=\"user\" />\r\n                        <div>{post.user.username}</div>\r\n                    </Link>\r\n                    <div className=\"PH-date\">{cleanedTime}</div>               \r\n                </div>\r\n                <Link to={`/post/${encodeURIComponent(post.title)}`} className=\"neutralize-link\"><h3 className=\"post-title post-hover\">{post.title}</h3></Link>\r\n                <Link to={`/post/${encodeURIComponent(post.title)}`} className=\"post-description neutralize-link post-hover\">\r\n                    {post.description}\r\n                </Link>\r\n                <div className=\"post-skills-container\">\r\n                    {mappedSkills()}\r\n                </div>\r\n                <div className=\"post-utilities-container\">\r\n                    <div onClick={() => handleSavePost()} className=\"PU-icon-container\">\r\n                        <svg className=\"PU-icon\" fill={colorPalette.color}  viewBox=\"0 -28 512.00002 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m471.382812 44.578125c-26.503906-28.746094-62.871093-44.578125-102.410156-44.578125-29.554687 0-56.621094 9.34375-80.449218 27.769531-12.023438 9.300781-22.917969 20.679688-32.523438 33.960938-9.601562-13.277344-20.5-24.660157-32.527344-33.960938-23.824218-18.425781-50.890625-27.769531-80.445312-27.769531-39.539063 0-75.910156 15.832031-102.414063 44.578125-26.1875 28.410156-40.613281 67.222656-40.613281 109.292969 0 43.300781 16.136719 82.9375 50.78125 124.742187 30.992188 37.394531 75.535156 75.355469 127.117188 119.3125 17.613281 15.011719 37.578124 32.027344 58.308593 50.152344 5.476563 4.796875 12.503907 7.4375 19.792969 7.4375 7.285156 0 14.316406-2.640625 19.785156-7.429687 20.730469-18.128907 40.707032-35.152344 58.328125-50.171876 51.574219-43.949218 96.117188-81.90625 127.109375-119.304687 34.644532-41.800781 50.777344-81.4375 50.777344-124.742187 0-42.066407-14.425781-80.878907-40.617188-109.289063zm0 0\"/></svg>\r\n                    </div>\r\n                    <CopyToClipboard onCopy={() => handleShare()} text={`http://localhost:3000/post/${encodeURIComponent(post.title)}`} className=\"PU-icon-container\">\r\n                        <svg className=\"PU-icon\" style={{width: '20px', paddingRight: '5px', paddingLeft: '5px'}} fill={colorPalette.color} viewBox=\"0 -22 512 511\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m512 233.820312-212.777344-233.320312v139.203125h-45.238281c-140.273437 0-253.984375 113.710937-253.984375 253.984375v73.769531l20.09375-22.019531c68.316406-74.851562 164.980469-117.5 266.324219-117.5h12.804687v139.203125zm0 0\"/></svg>\r\n                    </CopyToClipboard>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n        currentUser: state.currentUser,\r\n        token: state.token\r\n\t}\r\n}\r\nexport default connect(\r\n    mapStateToProps,\r\n    { setCurrentUserSP, setAlert, resetAlert }\r\n)(Post)"]},"metadata":{},"sourceType":"module"}